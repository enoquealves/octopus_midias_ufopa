function init_velocity () {
    velocity_millestones = [
    100,
    250,
    500,
    1000,
    1500,
    2000,
    2500,
    3000,
    5000
    ]
    octopus_velocity = 1
    octopus_max_delay = 1100 - octopus_velocity * 100
    next_velocity_millestone = velocity_millestones.shift()
    octopus_delay = 0
}
function update_leg01 () {
    if (leg01_pos == 0 && leg01_dir == -1) {
        leg01_dir = 1
        if (Math.percentChance(80)) {
            leg01_start = 0
        } else {
            leg01_start = 1
        }
    }
    if (leg01_pos == 0) {
        if (leg01_start == 0) {
            leg01_pos = 1
        } else {
            leg01_start += -1
        }
    } else if (leg01_pos == 3) {
        leg01_dir = -1
        leg01_pos += leg01_dir
    } else {
        leg01_pos += leg01_dir
    }
    leg01.setImage(leg01_sprites[leg01_pos])
}
function boatKickOut () {
    if (kick_count < 30) {
        kick_count += 1
    } else {
        kick_count = 0
        frogman_pos = 1
        updateFrogMan()
    }
}
function catch_frogman () {
    music.zapped.play()
    game_state = GAME_CATCH_ANIMATION
    leg03_pos = 0
    leg03_start = 0
    leg03.setImage(leg03_sprites[leg03_pos])
    frogman.setImage(img`
        ..........ff....................
        .........ffff...................
        .......fffff....................
        .......ffff.....................
        ..........f.....................
        ..........ff................ff..
        ..ffffff...f................fff.
        .f111f1ff..f................fff.
        ffffff11ff.......ffffff.....fff.
        ff11f111fff.fffffff1fff..fff....
        fff1f11ffff.fffffffffff.ff......
        fffffffffff.ffffffffff..f.......
        fffffffffff.fffffffff...........
        ffffffffff.fffffff..............
        ..f111fff..fffff..fff...........
        ...fffff...fff...fff............
        ........ff.....ff11f............
        ......fff...ffff11ff..f.........
        .....ff.....fffff1f...f.........
        ....ff......ffffff....ff........
        ...ffff.....fffff......ff.......
        ...fff......ffff.......ffff.....
        ...fff......ffff........ffff....
        ....ff.......ff..........fff....
        ........................fff.....
        ........................ff......
        `)
    frogman.setPosition(80, 59)
    animation.runImageAnimation(
    frogman,
    [img`
        ..........ff....................
        .........ffff...................
        .......fffff....................
        .......ffff.....................
        ..........f.....................
        ..........ff................ff..
        ..ffffff...f................fff.
        .f111f1ff..f................fff.
        ffffff11ff.......ffffff.....fff.
        ff11f111fff.fffffff1fff..fff....
        fff1f11ffff.fffffffffff.ff......
        fffffffffff.ffffffffff..f.......
        fffffffffff.fffffffff...........
        ffffffffff.fffffff..............
        ..f111fff..fffff..fff...........
        ...fffff...fff...fff............
        ........ff.....ff11f............
        ......fff...ffff11ff..f.........
        .....ff.....fffff1f...f.........
        ....ff......ffffff....ff........
        ...ffff.....fffff......ff.......
        ...fff......ffff.......ffff.....
        ...fff......ffff........ffff....
        ....ff.......ff..........fff....
        ........................fff.....
        ........................ff......
        `,img`
        ..........ff....................
        .........ffff...................
        .......fffff....................
        .......ffff.....................
        ..........f.....................
        ..........ff....................
        ..ffffff...f....................
        .f111f1ff..f....................
        ffffff11ff.......ffffff.........
        ff11f111fff.fffffff1fff.......ff
        fff1f11ffff.fffffffffff......fff
        fffffffffff.ffffffffff.......fff
        fffffffffff.fffffffff...ffffffff
        ffffffffff.fffffff.....fff......
        ..f111fff..fffff..fff...........
        ...fffff...fff...fff...f........
        ...............ff11f...fff......
        ..........f.ffff11ff......fffff.
        ..........f.fffff1f.........fff.
        .........ff.ffffff..........fff.
        .........ff.fffff............ff.
        .........ff.ffff................
        .......ffff.ffff................
        ..........f..ff.................
        ................................
        ................................
        `],
    500,
    true
    )
}
function giveReturnBonus () {
    got_gold = 0
    info.changeScoreBy(3)
    music.magicWand.play()
    updateFrogMan()
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    game.splash("Jogo em pausa...")
})
function doCatchAnimation () {
    if (frame_count < 25) {
        frame_count += 1
    } else {
        frame_count = 0
        kick_count = 0
        frogman_pos = 0
        got_gold = 0
        animation.stopAnimation(animation.AnimationTypes.All, frogman)
        updateFrogMan()
        game_state = GAME_RUN
    }
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (game_state == GAME_RUN) {
        if (frogman_state == GETTING_GOLD) {
            frogman_state = WALKING
            frame_count = 0
            animation.stopAnimation(animation.AnimationTypes.All, frogman)
        }
        if (frogman_state != ON_BOAT && frogman_pos > 0) {
            frogman_pos = Math.max(frogman_pos - 1, 0)
            if (frogman_pos == 0 && got_gold == 0) {
                frogman_pos = 1
            }
            updateFrogMan()
        }
    }
})
function doAnimationCooldown () {
    if (frame_count < 3) {
        frame_count += 1
    } else {
        frame_count = 0
        frogman_state = ON_GOLD
    }
}
function check_velocity () {
    if (octopus_velocity < 10) {
        if (info.score() >= next_velocity_millestone) {
            octopus_velocity += 1
            music.powerUp.play()
            info.changeLifeBy(1)
            next_velocity_millestone = velocity_millestones.shift()
            octopus_max_delay = 1100 - octopus_velocity * 100
        }
    }
}
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (game_state == GAME_RUN) {
        if (frogman_state != GETTING_GOLD) {
            if (frogman_state < ON_GOLD) {
                frogman_pos = Math.min(frogman_pos + 1, 5)
                updateFrogMan()
            } else {
                frogman_state = GETTING_GOLD
                got_gold = 7
                frogman.setImage(frogman_sprites[6])
                animation.runImageAnimation(
                frogman,
                [img`
                    ..............ffffff.....
                    .............ffffffff....
                    ............ffffffffff...
                    ...........f1fffff1ffff..
                    ...........ff1ff111f1ff..
                    ...........ff1ffffff11f..
                    ...........fffff11fffff..
                    .....ffff...fffff1f111f..
                    ....fffffffff1ffffffff...
                    ....ff.ff..ffffffff......
                    ..............ffff.ff....
                    ......f........fff..ff...
                    ....fff.......ffff...fff.
                    .ffff5ff.....fffff...ffff
                    fffff55ff....fffff...ffff
                    ffffffff....fffff....f...
                    fffffff....ffffff........
                    .ffffff...ffffff.........
                    ..ffff...ff....ff........
                    ......fffff....ff........
                    ......ffff.....ff........
                    .......fff.....ff........
                    ..............ff.........
                    ...............fff.......
                    `,img`
                    ..............ffffff.....
                    .............ffffffff....
                    ............ffffffffff...
                    ...........f1fffff1ffff..
                    ...........ff1ff111f1ff..
                    ...........ff1ffffff11f..
                    ...........fffff11fffff..
                    .....ffff...fffff1f111f..
                    ....fffffffff1ffffffff...
                    ....ff.ff..ffffffff......
                    ..............ffff.......
                    ......f........fff.......
                    ....fff.......ffff.......
                    .ffff5ff.....fffff.......
                    fffff55ff....fffff.f.....
                    ffffffff....fffff...f....
                    fffffff....ffffff...ff...
                    .ffffff...ffffff.....ff..
                    ..ffff...ff....ff....ff..
                    ......fffff....ff....ff..
                    ......ffff.....ff........
                    .......fff.....ff........
                    ..............ff.........
                    ...............fff.......
                    `,img`
                    ..............ffffff.....
                    .............ffffffff....
                    ............ffffffffff...
                    ...........f1fffff1ffff..
                    ...........ff1ff111f1ff..
                    ...........ff1ffffff11f..
                    ...........fffff11fffff..
                    .....ffff...fffff1f111f..
                    ....fffffffff1ffffffff...
                    ....ff.ff..ffffffff......
                    ..............ffff.......
                    ......f...fff..fff.......
                    ....fff..ffff.ffff.......
                    .ffff5ff..ff.fffff.......
                    fffff55ff....fffff.......
                    ffffffff....fffff........
                    fffffff....ffffff........
                    .ffffff...ffffff.........
                    ..ffff...ff....ff........
                    ......fffff....ff........
                    ......ffff.....ff........
                    .......fff.....ff........
                    ..............ff.........
                    ...............fff.......
                    `,img`
                    ..............ffffff.....
                    .............ffffffff....
                    ............ffffffffff...
                    ...........f1fffff1ffff..
                    ...........ff1ff111f1ff..
                    ...........ff1ffffff11f..
                    ...........fffff11fffff..
                    .....ffff...fffff1f111f..
                    ....fffffffff1ffffffff...
                    ....ff.ff..ffffffff......
                    ..............ffff.ff....
                    ......f........fff..ff...
                    ....fff.......ffff...fff.
                    .ffff5ff.....fffff...ffff
                    fffff55ff....fffff...ffff
                    ffffffff....fffff....f...
                    fffffff....ffffff........
                    .ffffff...ffffff.........
                    ..ffff...ff....ff........
                    ......fffff....ff........
                    ......ffff.....ff........
                    .......fff.....ff........
                    ..............ff.........
                    ...............fff.......
                    `],
                200,
                false
                )
                info.changeScoreBy(1)
                music.baDing.play()
            }
        }
    }
})
function init_sprites () {
    frogman_sprites = [
    assets.image`frogman0`,
    assets.image`frogman1`,
    assets.image`frogman2`,
    assets.image`frogman3`,
    assets.image`frogman4`,
    assets.image`frogman5`,
    assets.image`frogman6`,
    assets.image`frogman7`,
    assets.image`frogman8`,
    assets.image`frogman9`,
    assets.image`frogman10`,
    assets.image`frogman11`,
    assets.image`frogman12`,
    assets.image`frogman6`
    ]
    leg01_sprites = [
    img`
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        `,
    img`
        f............
        ff...........
        fffff........
        ff.ffffff....
        ff..fffff....
        .fffffff.....
        ..ffffff.....
        ...fffff.....
        ......ff.....
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        `,
    img`
        f............
        ff...........
        fffff........
        ff.ffffff....
        ff..fffff....
        .fffffff.....
        ..ffffff.....
        f..fffff.....
        ff....ff.....
        fffff........
        ff..fff......
        .f..fff......
        .ffffff......
        ..ffffff.....
        ....ffff.....
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        .............
        `,
    img`
        f............
        ff...........
        fffff........
        ff.ffffff....
        ff..fffff....
        .fffffff.....
        ..ffffff.....
        f..fffff.....
        ff....ff.....
        fffff........
        ff..fff......
        .f..fff......
        .ffffff......
        ..ffffff.....
        ....ffff.....
        .ff..........
        ..fffffff....
        ...ffffff....
        ...fffffff...
        ....fffffff..
        ......ffffff.
        .......fffff.
        ........fffff
        .........ffff
        ...........ff
        ............f
        ............f
        `
    ]
    leg02_sprites = [
    img`
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        `,
    img`
        ..ffffff..ff
        .fffffff.fff
        .fffffffffff
        .ffffffffff.
        .fffffffff..
        ffffff......
        fffff.......
        fff.........
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        `,
    img`
        ..ffffff..ff
        .fffffff.fff
        .fffffffffff
        .ffffffffff.
        .fffffffff..
        ffffff......
        fffff..fff..
        fff...fff...
        ....ff..f...
        .ffff..ff...
        .fffffff....
        .ffffff.....
        .fffff......
        .ffff.......
        .ffff.......
        ..ff........
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        `,
    img`
        ..ffffff..ff
        .fffffff.fff
        .fffffffffff
        .ffffffffff.
        .fffffffff..
        ffffff......
        fffff..fff..
        fff...fff...
        ....ff..f...
        .ffff..ff...
        .fffffff....
        .ffffff.....
        .fffff......
        .ffff..ff...
        .ffff.ffff..
        ..ff..f..f..
        .....fff.f..
        ...fffffff..
        ...ffffff...
        ...fffff....
        ....fff.....
        .....ff.....
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        ............
        `,
    img`
        ..ffffff..ff
        .fffffff.fff
        .fffffffffff
        .ffffffffff.
        .fffffffff..
        ffffff......
        fffff..fff..
        fff...fff...
        ....ff..f...
        .ffff..ff...
        .fffffff....
        .ffffff.....
        .fffff......
        .ffff..ff...
        .ffff.ffff..
        ..ff..f..f..
        .....fff.f..
        ...fffffff..
        ...ffffff...
        ...fffff....
        ....fff..ff.
        .....ff.fff.
        ........fff.
        .......ffff.
        ......fffff.
        ......ffff..
        ......ffff..
        .....ffff...
        .....ffff...
        .....fff....
        ....fff.....
        ...ff.......
        `
    ]
    leg03_sprites = [
    img`
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        `,
    img`
        .......fffff......
        .......fffffffffff
        ......fffffffffff.
        ......ffff...ff...
        ......ffffff......
        ......fff.........
        ......ff..........
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        `,
    img`
        .......fffff......
        .......fffffffffff
        ......fffffffffff.
        ......ffff...ff...
        ......ffffff......
        ......fff.........
        ......ff..ff......
        .........ffff.....
        .......ffffff.....
        .....fff..fff.....
        .....fff.fff......
        .....fff.fff......
        ......ffffff......
        ......ffffff......
        ........fff.......
        .........ff.......
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        `,
    img`
        .......fffff......
        .......fffffffffff
        ......fffffffffff.
        ......ffff...ff...
        ......ffffff......
        ......fff.........
        ......ff..ff......
        .........ffff.....
        .......ffffff.....
        .....fff..fff.....
        .....fff.fff......
        .....fff.fff......
        ......ffffff......
        ......ffffff......
        ....ff..fff.......
        ....fff..ff.......
        ....ffff..........
        ....ffffff........
        ....fffffff.......
        .....fff..f.......
        .....fff.f........
        ......ffff........
        ......ffff........
        .......ff.........
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        `,
    img`
        .......fffff......
        .......fffffffffff
        ......fffffffffff.
        ......ffff...ff...
        ......ffffff......
        ......fff.........
        ......ff..ff......
        .........ffff.....
        .......ffffff.....
        .....fff..fff.....
        .....fff.fff......
        .....fff.fff......
        ......ffffff......
        ......ffffff......
        ....ff..fff.......
        ....fff..ff.......
        ....ffff..........
        ....ffffff........
        ....fffffff.......
        .....fff..f.......
        .....fff.f........
        ...f..ffff........
        ...ff.ffff........
        ...ff..ff.........
        ...ffff...........
        ...fffff..........
        ...ffffff.........
        ...ffff.f.........
        ....ff..f.........
        .....fff..........
        ......ff..........
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        ..................
        `,
    img`
        .......fffff......
        .......fffffffffff
        ......fffffffffff.
        ......ffff...ff...
        ......ffffff......
        ......fff.........
        ......ff..ff......
        .........ffff.....
        .......ffffff.....
        .....fff..fff.....
        .....fff.fff......
        .....fff.fff......
        ......ffffff......
        ......ffffff......
        ....ff..fff.......
        ....fff..ff.......
        ....ffff..........
        ....ffffff........
        ....fffffff.......
        .....fff..f.......
        .....fff.f........
        ...f..ffff........
        ...ff.ffff........
        ...ff..ff.........
        ...ffff...........
        ...fffff..........
        ...ffffff.........
        ...ffff.f.........
        ....ff..f.........
        ..ff.fff..........
        ..ff..ff..........
        ..fff.............
        ..ffff............
        ..ffff............
        .ffffff...........
        .fffff............
        .fffff............
        .ffff.............
        .fff..............
        fff...............
        ff................
        `
    ]
    leg04_sprites = [
    img`
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `,
    img`
        ...........................ff.......
        .........................fffff......
        ........................fffffff.....
        ......................fffffffffff...
        .....................ffffff...fffff.
        ....................ffffffffffffffff
        .....................ffffff....fff..
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `,
    img`
        ...........................ff.......
        .........................fffff......
        ........................fffffff.....
        ......................fffffffffff...
        .....................ffffff...fffff.
        ....................ffffffffffffffff
        .....................ffffff....fff..
        ....................................
        .................ffffffff...........
        ...............fffffffffff..........
        .............fffffff...ff...........
        ............fffffff..fff............
        ............fffffff.fff.............
        ...........ffffffffff...............
        ...........fffffffff................
        ..........fff.......................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `,
    img`
        ...........................ff.......
        .........................fffff......
        ........................fffffff.....
        ......................fffffffffff...
        .....................ffffff...fffff.
        ....................ffffffffffffffff
        .....................ffffff....fff..
        ....................................
        .................ffffffff...........
        ...............fffffffffff..........
        .............fffffff...ff...........
        ............fffffff..fff............
        ............fffffff.fff.............
        ...........ffffffffff...............
        ...........fffffffff................
        ..........fff.......................
        ..............ff....................
        ...........fffff....................
        .........fffffff....................
        ........fffff.ff....................
        .......fffff.ff.....................
        .......fffffff......................
        .......ffff.........................
        ......ffff..........................
        ......fff...........................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        `,
    img`
        ...........................ff.......
        .........................fffff......
        ........................fffffff.....
        ......................fffffffffff...
        .....................ffffff...fffff.
        ....................ffffffffffffffff
        .....................ffffff....fff..
        ....................................
        .................ffffffff...........
        ...............fffffffffff..........
        .............fffffff...ff...........
        ............fffffff..fff............
        ............fffffff.fff.............
        ...........ffffffffff...............
        ...........fffffffff................
        ..........fff.......................
        ..............ff....................
        ...........fffff....................
        .........fffffff....................
        ........fffff.ff....................
        .......fffff.ff.....................
        .......fffffff......................
        .......ffff.........................
        ......ffff..........................
        ......fff..ff.......................
        ..........ff........................
        .....fffffff........................
        .....fffffff........................
        .....ffffff.........................
        .....fffff..........................
        ....fffff...........................
        ....fffff...........................
        ...fffff............................
        ...fffff............................
        ...ffff.............................
        ..ffff..............................
        ..fff...............................
        .fff................................
        .ff.................................
        ff..................................
        `,
    img`
        ..........................................
        ..........................................
        ..........................................
        ..........................................
        ..........................................
        ..........................................
        ..........................................
        ..........................................
        ..........................................
        ..........................................
        `,
    img`
        ..........................................
        ..........................................
        ..........................................
        .................................ff.......
        ...............................fffff......
        ..............................fffffff.....
        ............................fffffffffff...
        ...........................ffffff...fffff.
        ..........................ffffffffffffffff
        ...........................ffffff....fff..
        `,
    img`
        ..........................................
        ..........................................
        ..........................................
        .................................ff.......
        ........................ffff...fffff......
        .....................ffffff...fffffff.....
        .................fffffffff..fffffffffff...
        ................fffffffff..ffffff...fffff.
        ..............fffff.fff...ffffffffffffffff
        ...............ffffff......ffffff....fff..
        `,
    img`
        fffff.....................................
        ..fffff...................................
        ....fffff.................................
        ......fffff......................ff.......
        .......ffffff...........ffff...fffff......
        ........ffffffff.....ffffff...fffffff.....
        .........ffffff..fffffffff..fffffffffff...
        ...........fff..fffffffff..ffffff...fffff.
        ..............fffff.fff...ffffffffffffffff
        ...............ffffff......ffffff....fff..
        `
    ]
}
function update_leg03 () {
    if (leg03_pos == 0 && leg03_dir == -1) {
        leg03_dir = 1
        if (Math.percentChance(80)) {
            leg03_start = 0
        } else {
            leg03_start = 1
        }
    }
    if (leg03_pos == 0) {
        if (leg03_start == 0) {
            leg03_pos = 1
        } else {
            leg03_start += -1
        }
    } else if (leg03_pos == 5) {
        leg03_dir = -1
        leg03_pos += leg03_dir
    } else {
        leg03_pos += leg03_dir
    }
    leg03.setImage(leg03_sprites[leg03_pos])
}
function update_leg04 () {
    if (leg04_pos == 0 && leg04_dir == -1) {
        leg04_up = Math.percentChance(50)
        leg04_dir = 1
        if (Math.percentChance(80)) {
            leg04_start = 0
        } else {
            leg04_start = 1
        }
    }
    if (leg04_pos == 0) {
        if (leg04_start == 0) {
            leg04_pos = 1
        } else {
            leg04_start += -1
        }
    } else if (leg04_pos == 3 && leg04_up || leg04_pos == 4) {
        leg04_dir = -1
        leg04_pos += leg04_dir
    } else {
        leg04_pos += leg04_dir
    }
    if (leg04_up) {
        leg04.setImage(leg04_sprites[leg04_pos + 5])
        leg04.setPosition(54, 39)
    } else {
        leg04.setImage(leg04_sprites[leg04_pos])
        leg04.setPosition(57, 57)
    }
}
function update_leg02 () {
    if (leg02_pos == 0 && leg02_dir == -1) {
        leg02_dir = 1
        if (Math.percentChance(80)) {
            leg02_start = 0
        } else {
            leg02_start = 1
        }
    }
    if (leg02_pos == 0) {
        if (leg02_start == 0) {
            leg02_pos = 1
        } else {
            leg02_start += -1
        }
    } else if (leg02_pos == 4) {
        leg02_dir = -1
        leg02_pos += leg02_dir
    } else {
        leg02_pos += leg02_dir
    }
    leg02.setImage(leg02_sprites[leg02_pos])
}
function checkFrogmanCatch () {
    if (leg01_pos == 3 && frogman_pos == 5) {
        catch_frogman()
        info.changeLifeBy(-1)
    }
    if (leg02_pos == 4 && frogman_pos == 4) {
        catch_frogman()
        info.changeLifeBy(-1)
    }
    if (leg03_pos == 5 && frogman_pos == 3) {
        catch_frogman()
        info.changeLifeBy(-1)
    }
    if (leg04_up) {
        if (leg04_pos == 3 && frogman_pos == 1) {
            catch_frogman()
            info.changeLifeBy(-1)
        }
    } else {
        if (leg04_pos == 4 && frogman_pos == 2) {
            catch_frogman()
            info.changeLifeBy(-1)
        }
    }
}
function updateFrogMan () {
    frogman.setImage(frogman_sprites[frogman_pos + got_gold])
    if (frogman_pos == 0) {
        frogman_state = ON_BOAT
        frogman.setPosition(49, 15)
    }
    if (frogman_pos == 1) {
        frogman_state = WALKING
        kick_count = 0
        frogman.setPosition(23, 41)
    }
    if (frogman_pos == 2) {
        frogman.setPosition(27, 75)
    }
    if (frogman_pos == 3) {
        frogman.setPosition(62, 102)
    }
    if (frogman_pos == 4) {
        frogman_state = WALKING
        frogman.setPosition(90, 102)
    }
    if (frogman_pos == 5) {
        if (frogman_state == WALKING) {
            frogman_state = ON_GOLD
        }
        frogman.setPosition(116, 104)
    }
}
let frame_count = 0
let octopus_delay = 0
let next_velocity_millestone = 0
let octopus_max_delay = 0
let octopus_velocity = 0
let velocity_millestones: number[] = []
let leg04_up = false
let leg04_pos = 0
let leg04_start = 0
let leg04_dir = 0
let leg04_sprites: Image[] = []
let leg04: Sprite = null
let leg03_pos = 0
let leg03_start = 0
let leg03_dir = 0
let leg03_sprites: Image[] = []
let leg03: Sprite = null
let leg02_pos = 0
let leg02_start = 0
let leg02_dir = 0
let leg02_sprites: Image[] = []
let leg02: Sprite = null
let leg01_pos = 0
let leg01_start = 0
let leg01_dir = 0
let leg01_sprites: Image[] = []
let leg01: Sprite = null
let frogman_sprites: Image[] = []
let frogman: Sprite = null
let kick_count = 0
let got_gold = 0
let frogman_pos = 0
let frogman_state = 0
let GETTING_GOLD = 0
let ON_GOLD = 0
let WALKING = 0
let ON_BOAT = 0
let game_state = 0
let GAME_CATCH_ANIMATION = 0
let GAME_RUN = 0
init_velocity()
let GAME_MENU = 0
GAME_RUN = 1
GAME_CATCH_ANIMATION = 2
game_state = GAME_RUN
ON_BOAT = 0
WALKING = 1
ON_GOLD = 2
GETTING_GOLD = 3
frogman_state = ON_BOAT
frogman_pos = 0
got_gold = 0
kick_count = 0
scene.setBackgroundImage(assets.image`background`)
init_sprites()
frogman = sprites.create(frogman_sprites[0], SpriteKind.Player)
frogman.setPosition(49, 15)
leg01 = sprites.create(leg01_sprites[0], SpriteKind.Enemy)
leg01.setPosition(123, 81)
leg01_dir = 1
leg01_start = 0
leg01_pos = 0
leg02 = sprites.create(leg02_sprites[0], SpriteKind.Enemy)
leg02.setPosition(99, 78)
leg02_dir = 1
leg02_start = 0
leg02_pos = 0
leg03 = sprites.create(leg03_sprites[0], SpriteKind.Enemy)
leg03.setPosition(77, 74)
leg03_dir = 1
leg03_start = 0
leg03_pos = 0
leg04 = sprites.create(leg04_sprites[0], SpriteKind.Enemy)
leg04.setPosition(57, 57)
leg04_dir = 1
leg04_start = 0
leg04_pos = 0
leg04_up = false
info.setLife(3)
game.splash("Vamos começar?")
game.onUpdateInterval(100, function () {
    if (game_state == GAME_RUN) {
        check_velocity()
        if (octopus_delay == 0) {
            update_leg01()
            update_leg02()
            update_leg03()
            update_leg04()
            octopus_delay = octopus_max_delay
        } else {
            octopus_delay += -100
        }
    }
})
game.onUpdateInterval(200, function () {
    if (game_state == GAME_RUN) {
        checkFrogmanCatch()
        if (frogman_state == GETTING_GOLD) {
            doAnimationCooldown()
        }
        if (frogman_state == ON_BOAT && got_gold != 0) {
            giveReturnBonus()
        }
        if (frogman_state == ON_BOAT && got_gold == 0) {
            boatKickOut()
        }
    } else if (game_state == GAME_CATCH_ANIMATION) {
        doCatchAnimation()
    } else {
    	
    }
})
